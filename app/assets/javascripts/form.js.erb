$(document).ready(function(){
    $('.Status').mouseenter(function(){
        $('.Status').css('cursor', 'pointer' );
    });
    $('.Status').click(function() {
        $("#bookedc").val($(this).index());
        $("#bookedr").val($(this).parent().index());
        if ($(this).text()=="Booked"){
            alert("This slot is already Booked");
        }
        else {
            div_show();
        }

    });

    var xcell;
    var xrow;
    var time;
    var timeID;
    var department;
    var blocked = "Blocked";
    var available= "Available";


    $('#cmdsend').click(function(event){

        xcell =   $("#bookedc").val();
        xrow = $("#bookedr").val();
        time = $('#scheduler tr:eq(0) td:eq('+xcell+')').text();
        timeID = $('#scheduler tr:eq(0) td:eq('+xcell+')').attr('id');
        department = $('#scheduler tr:eq('+xrow+') td:eq(0)').text();
        blocked = "Blocked";
        available= "Available";


        if (document.getElementById('first_Name').value == "" || document.getElementById('last_Name').value == "" ||
                document.getElementById('email').value == "" || document.getElementById('phoneNumber').value == "" ||
                document.getElementById('message').value == "") {
            alert("You Must Fill All Fields !");
            event.preventDefault();

        } else {

            var ans = confirm( "Hello " + $("#first_Name").val() + ", you have set a mock interview with " +
            department + " at "+ time + '\n\n' + " Is this your correct choice?" );

            if (ans == true){

                $('#interviewstatus').val(blocked);
                $('#interviewField').val(department);
                $('#interviewTime').val(time);
                $('#interviewTimeSlot').val(timeID);
                $('#interview_id').val(xrow);
                $('#slotTimeDescription').val(timeID);
                $('#slotID').val(xrow)

                alert ("your interview is confirmed!");

            }else{
                alert( "You have cancelled your interview!");
                $('input[type=text], textarea ').each(function(){
                    $(this).val('');
                });
                $("#interviewstatus").val(available);
                event.preventDefault();

            }
            $('#abc').hide();
        }


    });

});


//Function To Display Popup
function div_show() {
    document.getElementById('abc').style.display = "block";
}
//Function to Hide Popup
function div_hide() {
    document.getElementById('abc').style.display = "none";
}
